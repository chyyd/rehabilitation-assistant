# åº·å¤ç§‘åŠ©æ‰‹ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

**é¡¹ç›®åç§°**ï¼šåº·å¤ç§‘ç—…å†ä¸äº‹åŠ¡ç®¡ç†ç³»ç»Ÿ
**è®¾è®¡æ—¥æœŸ**ï¼š2025-01-23
**ç›®æ ‡ç”¨æˆ·**ï¼šä¸­åŒ»é™¢åº·å¤ç§‘åŒ»ç”Ÿ
**ç‰ˆæœ¬**ï¼šv1.0

---

## ç›®å½•

1. [é¡¹ç›®æ¦‚è¿°](#1-é¡¹ç›®æ¦‚è¿°)
2. [ç³»ç»Ÿæ¶æ„è®¾è®¡](#2-ç³»ç»Ÿæ¶æ„è®¾è®¡)
3. [æ ¸å¿ƒåŠŸèƒ½æ¨¡å—](#3-æ ¸å¿ƒåŠŸèƒ½æ¨¡å—)
4. [æ•°æ®ç»“æ„è®¾è®¡](#4-æ•°æ®ç»“æ„è®¾è®¡)
5. [ç”¨æˆ·ç•Œé¢è®¾è®¡](#5-ç”¨æˆ·ç•Œé¢è®¾è®¡)
6. [AIé›†æˆæ–¹æ¡ˆ](#6-aié›†æˆæ–¹æ¡ˆ)
7. [æé†’ç³»ç»Ÿè®¾è®¡](#7-æé†’ç³»ç»Ÿè®¾è®¡)
8. [çŸ¥è¯†åº“ç®¡ç†](#8-çŸ¥è¯†åº“ç®¡ç†)
9. [æŠ€æœ¯å®ç°ç»†èŠ‚](#9-æŠ€æœ¯å®ç°ç»†èŠ‚)
10. [éƒ¨ç½²ä¸ä½¿ç”¨](#10-éƒ¨ç½²ä¸ä½¿ç”¨)

---

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®èƒŒæ™¯

ä¸­åŒ»é™¢åº·å¤ç§‘åŒ»ç”Ÿåœ¨æ—¥å¸¸å·¥ä½œä¸­é¢ä¸´ä»¥ä¸‹æŒ‘æˆ˜ï¼š
- å¤§é‡æ‚£è€…ç—…å†ä¹¦å†™å·¥ä½œï¼ˆç—…ç¨‹è®°å½•ã€åº·å¤è®¡åˆ’ç­‰ï¼‰
- éœ€è¦è·Ÿè¸ªå¤šä¸ªæ‚£è€…çš„é‡è¦æ—¶é—´èŠ‚ç‚¹ï¼ˆå¦‚90å¤©é™åˆ¶ã€æ£€éªŒå¤æŸ¥ç­‰ï¼‰
- ç¼ºä¹æ™ºèƒ½åŒ–çš„å·¥ä½œæµè¾…åŠ©å·¥å…·

### 1.2 é¡¹ç›®ç›®æ ‡

å¼€å‘ä¸€æ¬¾Pythonæ¡Œé¢åº”ç”¨ï¼Œå¸®åŠ©åº·å¤ç§‘åŒ»ç”Ÿï¼š
- âœ… **è‡ªåŠ¨åŒ–ç—…ç¨‹è®°å½•ç”Ÿæˆ**ï¼šç»“åˆAIæ™ºèƒ½ç”Ÿæˆç¬¦åˆè§„èŒƒçš„ç—…ç¨‹è®°å½•
- âœ… **æ™ºèƒ½æé†’ç³»ç»Ÿ**ï¼šè‡ªåŠ¨æé†’é‡è¦æ—¶é—´èŠ‚ç‚¹å’Œå¾…åŠäº‹é¡¹
- âœ… **æ‚£è€…ä¿¡æ¯ç®¡ç†**ï¼šä»é¦–æ¬¡ç—…ç¨‹è®°å½•è‡ªåŠ¨æå–ç»“æ„åŒ–ä¿¡æ¯
- âœ… **çŸ¥è¯†åº“è¾…åŠ©**ï¼šé›†æˆä¸“ä¸šåŒ»å­¦çŸ¥è¯†åº“ï¼Œæå‡è®°å½•è´¨é‡
- âœ… **åº·å¤è®¡åˆ’åˆ¶å®š**ï¼šAIè¾…åŠ©åˆ¶å®šä¸ªæ€§åŒ–åº·å¤æ–¹æ¡ˆ

### 1.3 æ ¸å¿ƒç‰¹æ€§

- **iOSé£æ ¼ç°ä»£åŒ–ç•Œé¢**ï¼šç¾è§‚ã€ä¸“ä¸šã€æ˜“ç”¨
- **å¤šAIæœåŠ¡æ”¯æŒ**ï¼šé­”æ­ã€DeepSeekã€Kimiç­‰çµæ´»åˆ‡æ¢
- **æ™ºèƒ½çŸ¥è¯†æ£€ç´¢**ï¼šåŸºäºç¡…åŸºæµåŠ¨APIçš„å‘é‡åŒ–çŸ¥è¯†åº“
- **ç¦»çº¿ä¼˜å…ˆ**ï¼šæ ¸å¿ƒåŠŸèƒ½æœ¬åœ°è¿è¡Œï¼Œæ•°æ®å®‰å…¨å¯æ§
- **æ— HISä¾èµ–**ï¼šç‹¬ç«‹è¿è¡Œï¼Œæ— éœ€è¿æ¥åŒ»é™¢ç³»ç»Ÿ

---

## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ç•Œé¢å±‚ (GUI Layer)            â”‚
â”‚  CustomTkinter - iOSé£æ ¼æ¡Œé¢ç•Œé¢     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ä¸šåŠ¡é€»è¾‘å±‚ (Business Layer)      â”‚
â”‚  æ‚£è€…ç®¡ç† | ç—…ç¨‹ç”Ÿæˆ | æé†’ç³»ç»Ÿ       â”‚
â”‚  æ¨¡æ¿ç®¡ç† | åº·å¤è®¡åˆ’ | æ²»ç–—è®°å½•       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       AIæœåŠ¡å±‚ (AI Service Layer)    â”‚
â”‚  ç­–ç•¥æ¨¡å¼ - å¤šAIæœåŠ¡æŠ½è±¡æ¥å£          â”‚
â”‚  â€¢ ModelScope (é­”æ­)                 â”‚
â”‚  â€¢ DeepSeek                          â”‚
â”‚  â€¢ Kimi                              â”‚
â”‚  â€¢ ç¡…åŸºæµåŠ¨Embedding API             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       æ•°æ®å±‚ (Data Layer)            â”‚
â”‚  â€¢ SQLiteæ•°æ®åº“ (æ‚£è€…ã€è®°å½•ã€æ¨¡æ¿)    â”‚
â”‚  â€¢ ChromaDB (å‘é‡æ•°æ®åº“)             â”‚
â”‚  â€¢ æ–‡ä»¶ç³»ç»Ÿ (çŸ¥è¯†åº“æ–‡æ¡£)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|---------|------|
| GUI | CustomTkinter | iOSé£æ ¼ç°ä»£åŒ–ç•Œé¢ç»„ä»¶ |
| æ•°æ®åº“ | SQLite + SQLAlchemy | è½»é‡çº§æœ¬åœ°æ•°æ®åº“ |
| å‘é‡æ•°æ®åº“ | ChromaDB | çŸ¥è¯†åº“å‘é‡å­˜å‚¨ |
| AIæœåŠ¡ | HTTP API | è°ƒç”¨å¤šä¸ªAIæœåŠ¡æä¾›å•† |
| æ–‡æ¡£è§£æ | PyPDF, python-docx, ebooklib | å¤šæ ¼å¼æ–‡æ¡£æ”¯æŒ |
| æ—¥æœŸå¤„ç† | Python datetime | é›†æˆç°æœ‰rounds_generatoré€»è¾‘ |

### 2.3 è®¾è®¡æ¨¡å¼

- **ç­–ç•¥æ¨¡å¼**ï¼šAIæœåŠ¡æŠ½è±¡å±‚ï¼Œæ”¯æŒå¤šæœåŠ¡åˆ‡æ¢
- **å·¥å‚æ¨¡å¼**ï¼šæ–‡æ¡£è§£æå™¨æ ¹æ®æ–‡ä»¶ç±»å‹åŠ¨æ€åˆ›å»º
- **å•ä¾‹æ¨¡å¼**ï¼šæ•°æ®åº“è¿æ¥æ± ã€é…ç½®ç®¡ç†å™¨
- **è§‚å¯Ÿè€…æ¨¡å¼**ï¼šæé†’ç³»ç»Ÿäº‹ä»¶è§¦å‘

---

## 3. æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 3.1 æ‚£è€…ä¿¡æ¯ç®¡ç†æ¨¡å—

#### åŠŸèƒ½æè¿°
æ‚£è€…æ¡£æ¡ˆçš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä»åˆ›å»ºåˆ°å½’æ¡£ã€‚

#### æ ¸å¿ƒåŠŸèƒ½

**1. æ‚£è€…åˆ›å»ºæµç¨‹**
```
æ­¥éª¤1ï¼šè¾“å…¥ä½é™¢å·
  â†“ (æ£€æŸ¥å”¯ä¸€æ€§)
æ­¥éª¤2ï¼šç²˜è´´é¦–æ¬¡ç—…ç¨‹è®°å½•
  â†“
æ­¥éª¤3ï¼šAIè‡ªåŠ¨æå–ç»“æ„åŒ–ä¿¡æ¯
  â†“
æ­¥éª¤4ï¼šäººå·¥ç¡®è®¤/ä¿®æ­£
  â†“
æ­¥éª¤5ï¼šä¿å­˜æ‚£è€…æ¡£æ¡ˆ
```

**2. AIæ™ºèƒ½æå–å­—æ®µ**
- åŸºæœ¬ä¿¡æ¯ï¼šå§“åã€æ€§åˆ«ã€å¹´é¾„ã€å…¥é™¢æ—¥æœŸ
- ä¸´åºŠä¿¡æ¯ï¼šä¸»è¯‰ã€è¯Šæ–­ã€æ—¢å¾€å²ã€è¿‡æ•å²
- ä¸“ç§‘ä¿¡æ¯ï¼šä¸“ç§‘æ£€æŸ¥ã€åº·å¤è¯„ä¼°ç»“æœ

**3. æ‚£è€…æ¡£æ¡ˆç®¡ç†**
- æŸ¥çœ‹ã€ç¼–è¾‘æ‚£è€…ä¿¡æ¯
- æ‚£è€…åˆ—è¡¨ä¸æœç´¢
- åœ¨é™¢/å‡ºé™¢æ‚£è€…è§†å›¾åˆ‡æ¢
- æ‚£è€…å½’æ¡£åŠŸèƒ½

#### å…³é”®æŠ€æœ¯ç‚¹
- ä¸¤é˜¶æ®µæå–ç­–ç•¥ï¼šæ­£åˆ™è¡¨è¾¾å¼ + AIè¯­ä¹‰ç†è§£
- ä½é™¢å·ä½œä¸ºå”¯ä¸€æ ‡è¯†
- ä¸ç°æœ‰rounds_generator.pyé›†æˆ

### 3.2 ç—…ç¨‹è®°å½•ç”Ÿæˆæ¨¡å—

#### åŠŸèƒ½æè¿°
ç»“åˆæ‚£è€…å†å²ä¿¡æ¯å’ŒAIæ™ºèƒ½ç”Ÿæˆå½“æ—¥ç—…ç¨‹è®°å½•ã€‚

#### ç”Ÿæˆæµç¨‹

```
è¾“å…¥ï¼šå½“æ—¥æƒ…å†µï¼ˆè‡ªç”±æ–‡æœ¬ï¼‰
  â†“
AIä¸Šä¸‹æ–‡æ„å»ºï¼š
  â€¢ æ‚£è€…åŸºæœ¬ä¿¡æ¯
  â€¢ é¦–æ¬¡ç—…ç¨‹è®°å½•
  â€¢ æœ€è¿‘2æ¬¡ç—…ç¨‹è®°å½•
  â€¢ çŸ¥è¯†åº“ç›¸å…³å†…å®¹ï¼ˆå¯é€‰ï¼‰
  â€¢ ç™¾åº¦ç™¾ç§‘æœç´¢ç»“æœï¼ˆå¯é€‰ï¼‰
  â†“
AIç”Ÿæˆç—…ç¨‹è®°å½•
  â†“
ç”¨æˆ·æŸ¥çœ‹å¹¶å¾®è°ƒ
  â†“
ä¿å­˜å¹¶å¯¼å‡ºï¼ˆå¯é€‰ï¼‰
```

#### è®°å½•ç±»å‹æ”¯æŒ
- ä½é™¢åŒ»å¸ˆæŸ¥æˆ¿è®°å½•
- ä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿è®°å½•
- ä¸»ä»»åŒ»å¸ˆæŸ¥æˆ¿è®°å½•
- é˜¶æ®µå°ç»“ï¼ˆæ¯30å¤©ï¼‰

#### æç¤ºè¯å·¥ç¨‹
```
ã€æ‚£è€…åŸºæœ¬ä¿¡æ¯ã€‘
å§“åã€æ€§åˆ«ã€å¹´é¾„ã€è¯Šæ–­ã€ä½é™¢å¤©æ•°

ã€å‚è€ƒçŸ¥è¯†ã€‘
â€¢ æœ¬åœ°çŸ¥è¯†åº“å†…å®¹ï¼ˆå‘é‡åŒ–æ£€ç´¢ï¼‰
â€¢ ç™¾åº¦ç™¾ç§‘ï¼ˆç–¾ç—…æ¦‚è¿°ã€åº·å¤æ–¹æ¡ˆï¼‰

ã€å†å²è®°å½•ã€‘
â€¢ é¦–æ¬¡ç—…ç¨‹è®°å½•
â€¢ æœ€è¿‘2æ¬¡ç—…ç¨‹è®°å½•

ã€ä»Šæ—¥æƒ…å†µã€‘
ç”¨æˆ·è¾“å…¥çš„å½“æ—¥æƒ…å†µ

è¦æ±‚ï¼š
1. è¯­è¨€é£æ ¼ç¬¦åˆä¸­åŒ»ç—…å†è§„èŒƒ
2. æ ¹æ®è®°å½•ç±»å‹è°ƒæ•´å†…å®¹è¯¦ç•¥
3. ç»“åˆä¸­åŒ»ç‰¹è‰²å’Œåº·å¤ä¸“ä¸šç‰¹ç‚¹
4. å­—æ•°200-400å­—
```

### 3.3 æé†’ç³»ç»Ÿæ¨¡å—

#### æé†’ç±»å‹

**1. å…¥é™¢ç›¸å…³æé†’**
| è§¦å‘æ—¶æœº | ä¼˜å…ˆçº§ | æè¿° |
|---------|--------|------|
| ç¬¬2å¤© | ä¸­ | è¯·æŸ¥çœ‹åŒ–éªŒæ£€æŸ¥ç»“æœ |
| æ¯30å¤© | é«˜ | ä»Šæ—¥éœ€ä¹¦å†™é˜¶æ®µå°ç»“ |

**2. æ–‡ä¹¦æé†’**
åŸºäºrounds_generator.pyé€»è¾‘ï¼š
- ç¬¬2å¤©ï¼šä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿
- ç¬¬3å¤©ï¼šä¸»ä»»åŒ»å¸ˆæŸ¥æˆ¿
- ç¬¬6å¤©èµ·æ¯3å¤©å‘¨æœŸï¼šä½é™¢åŒ»å¸ˆ/ä¸»æ²»åŒ»å¸ˆ/ä¸»ä»»åŒ»å¸ˆ

**3. è¶…æœŸé¢„è­¦æé†’**
| è§¦å‘æ—¶æœº | ä¼˜å…ˆçº§ | æè¿° |
|---------|--------|------|
| ç¬¬80å¤© | é«˜ | âš ï¸ æ‚£è€…å·²ä½é™¢80å¤©ï¼Œæ³¨æ„90å¤©é™åˆ¶ |
| ç¬¬81-89å¤© | é«˜ | âš ï¸ ä½é™¢ç¬¬Nå¤©ï¼Œéœ€åŠ å¿«åº·å¤è¿›ç¨‹ |
| ç¬¬90å¤© | ç´§æ€¥ | ğŸš¨ ä»Šæ—¥å·²è¾¾90å¤©ï¼Œå¿…é¡»å‡†å¤‡å‡ºé™¢ |

**4. æ£€éªŒç»“æœæé†’**
AIè¯†åˆ«ç—…ç¨‹è®°å½•ä¸­çš„æ£€éªŒå¼‚å¸¸ï¼Œè‡ªåŠ¨ç”Ÿæˆå¤æŸ¥æé†’ã€‚

**5. æ²»ç–—èŠ‚ç‚¹æé†’**
- å‡ºé™¢å‰3å¤©è¯„ä¼°æé†’
- åº·å¤ç›®æ ‡è¾¾æˆæ£€æŸ¥

#### æé†’å±•ç¤ºè§„åˆ™
- æŒ‰ä¼˜å…ˆçº§æ’åºï¼šç´§æ€¥ > é«˜ > ä¸­ > ä½
- ä»Šæ—¥æé†’è‡ªåŠ¨åŠ è½½
- ç‚¹å‡»æé†’è·³è½¬åˆ°æ‚£è€…å·¥ä½œåŒº
- æ”¯æŒæ ‡è®°å®Œæˆ/ç¨åå¤„ç†

### 3.4 å¿«é€Ÿæ¨¡æ¿æ¨¡å—

#### åŠŸèƒ½æè¿°
å¸¸ç”¨çŸ­è¯­ã€è¯Šæ–­ã€å¤„ç†æ„è§çš„å¿«é€Ÿæ’å…¥å’Œç®¡ç†ã€‚

#### æ¨¡æ¿åˆ†ç±»
```
â”œâ”€â”€ è¯Šæ–­æ¨¡æ¿
â”‚   â”œâ”€â”€ è„‘æ¢—æ­»æ¢å¤æœŸ
â”‚   â”œâ”€â”€ è„Šé«“æŸä¼¤æ¢å¤æœŸ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ å¤„ç†æ„è§æ¨¡æ¿
â”‚   â”œâ”€â”€ ç»§ç»­åº·å¤è®­ç»ƒ
â”‚   â”œâ”€â”€ è°ƒæ•´åº·å¤æ–¹æ¡ˆ
â”‚   â””â”€â”€ ...
â”œâ”€â”€ å®£æ•™æ¨¡æ¿
â”‚   â”œâ”€â”€ é¥®é£Ÿå®£æ•™
â”‚   â”œâ”€â”€ åŠŸèƒ½é”»ç‚¼æŒ‡å¯¼
â”‚   â””â”€â”€ ...
â””â”€â”€ åº·å¤è®­ç»ƒæ¨¡æ¿
    â”œâ”€â”€ è‚ŒåŠ›è®­ç»ƒ
    â”œâ”€â”€ å¹³è¡¡è®­ç»ƒ
    â””â”€â”€ ...
```

#### ç‰¹æ€§
- ç³»ç»Ÿé¢„è®¾ + è‡ªå®šä¹‰æ¨¡æ¿
- æ”¯æŒæ¨¡æ¿åˆ†ç±»ç®¡ç†
- æœç´¢å’Œå¿«é€Ÿæ’å…¥
- è®°å½•ä½¿ç”¨é¢‘ç‡æ’åº

### 3.5 åº·å¤è®¡åˆ’åˆ¶å®šæ¨¡å—

#### åŠŸèƒ½æè¿°
AIæ ¹æ®æ‚£è€…è¯Šæ–­å’Œé¦–æ¬¡ç—…ç¨‹è®°å½•ï¼Œè¾…åŠ©åˆ¶å®šåº·å¤è®¡åˆ’ã€‚

#### ç”Ÿæˆä¾æ®
- æ‚£è€…åŸºæœ¬ä¿¡æ¯å’Œè¯Šæ–­
- é¦–æ¬¡ç—…ç¨‹è®°å½•ä¸­çš„åŠŸèƒ½éšœç¢æè¿°
- çŸ¥è¯†åº“ä¸­çš„åº·å¤æ–¹æ¡ˆå‚è€ƒ
- ç±»ä¼¼å†å²æ‚£è€…çš„æ–¹æ¡ˆï¼ˆå¯é€‰ï¼‰

#### è¾“å‡ºç»“æ„
```json
{
  "rehab_goals": ["æ¢å¤ä¸Šè‚¢è‚ŒåŠ›è‡³3çº§", "æé«˜ADLè¯„åˆ†"],
  "interventions": [
    "è¿åŠ¨ç–—æ³•ï¼šæ¯æ—¥2æ¬¡ï¼Œæ¯æ¬¡40åˆ†é’Ÿ",
    "ä½œä¸šæ²»ç–—ï¼šæ¯æ—¥1æ¬¡ï¼Œæ¯æ¬¡30åˆ†é’Ÿ",
    "ç‰©ç†å› å­æ²»ç–—ï¼šé’ˆç¸ã€æ¨æ‹¿éš”æ—¥1æ¬¡"
  ],
  "timeline": "ç¬¬ä¸€é˜¶æ®µï¼ˆ1-2å‘¨ï¼‰...",
  "precautions": ["æ³¨æ„è¡€å‹å˜åŒ–", "é¿å…è¿‡åº¦ç–²åŠ³"]
}
```

### 3.6 æ²»ç–—æ–‡ä¹¦è®°å½•æ¨¡å—

#### æ”¯æŒçš„æ²»ç–—ç±»å‹
- é’ˆç¸æ²»ç–—è®°å½•
- æ¨æ‹¿æ²»ç–—è®°å½•
- ç†ç–—é¡¹ç›®è®°å½•
- åº·å¤è®­ç»ƒè®°å½•

#### å¿«é€Ÿè®°å½•æ¨¡æ¿
```
æ—¥æœŸï¼šYYYY-MM-DD
æ²»ç–—ç±»å‹ï¼šé’ˆç¸
ç©´ä½ï¼šè‚©é«ƒã€æ›²æ± ã€åˆè°·ã€è¶³ä¸‰é‡Œ
æ‰‹æ³•ï¼šå¹³è¡¥å¹³æ³»
æ—¶é—´ï¼š30åˆ†é’Ÿ
æ‚£è€…ååº”ï¼šè‰¯å¥½ï¼Œæ— ä¸é€‚
ç–—æ•ˆï¼šè‚¢ä½“æ´»åŠ¨åº¦è¾ƒå‰æ”¹å–„
```

---

## 4. æ•°æ®ç»“æ„è®¾è®¡

### 4.1 æ•°æ®åº“è¡¨ç»“æ„

#### 1. æ‚£è€…ä¿¡æ¯è¡¨ï¼ˆpatientsï¼‰

```sql
CREATE TABLE patients (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    hospital_number TEXT UNIQUE NOT NULL,          -- ä½é™¢å·ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
    name TEXT,                                     -- å§“å
    gender TEXT,                                   -- æ€§åˆ«
    age INTEGER,                                   -- å¹´é¾„
    admission_date DATE NOT NULL,                  -- å…¥é™¢æ—¥æœŸ
    discharge_date DATE,                           -- å‡ºé™¢æ—¥æœŸï¼ˆNULLè¡¨ç¤ºåœ¨é™¢ï¼‰
    chief_complaint TEXT,                          -- ä¸»è¯‰
    diagnosis TEXT,                                -- è¯Šæ–­
    past_history TEXT,                             -- æ—¢å¾€å²
    allergy_history TEXT,                          -- è¿‡æ•å²
    specialist_exam TEXT,                          -- ä¸“ç§‘æ£€æŸ¥
    initial_note TEXT,                             -- é¦–æ¬¡ç—…ç¨‹è®°å½•åŸæ–‡
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_hospital_number ON patients(hospital_number);
CREATE INDEX idx_admission_date ON patients(admission_date);
```

#### 2. ç—…ç¨‹è®°å½•è¡¨ï¼ˆprogress_notesï¼‰

```sql
CREATE TABLE progress_notes (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    patient_id INTEGER NOT NULL,                   -- å…³è”æ‚£è€…ID
    hospital_number TEXT NOT NULL,                 -- ä½é™¢å·ï¼ˆä¾¿äºæŸ¥è¯¢ï¼‰
    record_date DATE NOT NULL,                     -- è®°å½•æ—¥æœŸ
    day_number INTEGER NOT NULL,                   -- ä½é™¢ç¬¬å‡ å¤©
    record_type TEXT NOT NULL,                     -- è®°å½•ç±»å‹
    daily_condition TEXT,                          -- ç”¨æˆ·è¾“å…¥çš„å½“æ—¥æƒ…å†µ
    generated_content TEXT,                        -- AIç”Ÿæˆçš„ç—…ç¨‹è®°å½•
    is_edited BOOLEAN DEFAULT 0,                   -- æ˜¯å¦ç»è¿‡äººå·¥ä¿®æ”¹
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);

CREATE INDEX idx_patient_date ON progress_notes(patient_id, record_date);
CREATE INDEX idx_hospital_number ON progress_notes(hospital_number);
```

#### 3. æé†’è¡¨ï¼ˆremindersï¼‰

```sql
CREATE TABLE reminders (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    patient_id INTEGER NOT NULL,
    hospital_number TEXT NOT NULL,
    reminder_type TEXT NOT NULL,                   -- æé†’ç±»å‹
    reminder_date DATE NOT NULL,                   -- æé†’æ—¥æœŸ
    day_number INTEGER,                            -- ä½é™¢å¤©æ•°
    description TEXT NOT NULL,                     -- æé†’å†…å®¹
    priority TEXT NOT NULL,                        -- ä¼˜å…ˆçº§ï¼ˆç´§æ€¥/é«˜/ä¸­/ä½ï¼‰
    is_completed BOOLEAN DEFAULT 0,                -- æ˜¯å¦å·²å®Œæˆ
    completed_at TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);

CREATE INDEX idx_reminder_date ON reminders(reminder_date, is_completed);
CREATE INDEX idx_priority ON reminders(priority);
```

#### 4. æ¨¡æ¿è¡¨ï¼ˆtemplatesï¼‰

```sql
CREATE TABLE templates (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category TEXT NOT NULL,                        -- åˆ†ç±»
    template_name TEXT NOT NULL,                   -- æ¨¡æ¿åç§°
    content TEXT NOT NULL,                         -- æ¨¡æ¿å†…å®¹
    is_system BOOLEAN DEFAULT 0,                   -- æ˜¯å¦ç³»ç»Ÿé¢„è®¾
    usage_count INTEGER DEFAULT 0,                 -- ä½¿ç”¨æ¬¡æ•°
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_category ON templates(category);
```

#### 5. åº·å¤è®¡åˆ’è¡¨ï¼ˆrehab_plansï¼‰

```sql
CREATE TABLE rehab_plans (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    patient_id INTEGER NOT NULL,
    plan_date DATE NOT NULL,                       -- è®¡åˆ’åˆ¶å®šæ—¥æœŸ
    goals TEXT,                                    -- åº·å¤ç›®æ ‡
    interventions TEXT,                            -- å¹²é¢„æªæ–½
    ai_generated BOOLEAN DEFAULT 0,                -- æ˜¯å¦AIç”Ÿæˆ
    is_active BOOLEAN DEFAULT 1,                   -- æ˜¯å¦æœ‰æ•ˆ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);
```

#### 6. æ²»ç–—è®°å½•è¡¨ï¼ˆtreatment_recordsï¼‰

```sql
CREATE TABLE treatment_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    patient_id INTEGER NOT NULL,
    treatment_date DATE NOT NULL,
    treatment_type TEXT NOT NULL,                  -- æ²»ç–—ç±»å‹
    treatment_details TEXT,                        -- æ²»ç–—è¯¦æƒ…
    operator TEXT,                                 -- æ“ä½œåŒ»å¸ˆ
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (patient_id) REFERENCES patients(id)
);
```

#### 7. åŒ»å¸ˆè¡¨ï¼ˆdoctorsï¼‰

```sql
CREATE TABLE doctors (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    doctor_name TEXT UNIQUE NOT NULL,              -- åŒ»å¸ˆå§“å
    roles TEXT NOT NULL,                           -- è§’è‰²ï¼ˆé€—å·åˆ†éš”ï¼‰
    default_roles TEXT NOT NULL,                   -- é»˜è®¤æ‹…ä»»çš„è§’è‰²
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

#### 8. AIé…ç½®è¡¨ï¼ˆai_configï¼‰

```sql
CREATE TABLE ai_config (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    provider TEXT NOT NULL,                        -- æœåŠ¡å•†
    api_key TEXT NOT NULL,                         -- APIå¯†é’¥
    api_endpoint TEXT,                             -- APIåœ°å€
    model_name TEXT,                               -- æ¨¡å‹åç§°
    is_default BOOLEAN DEFAULT 0,                  -- æ˜¯å¦é»˜è®¤
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### 4.2 æ•°æ®å…³ç³»å›¾

```
patients (1) â”€â”€â”€â”€â”€< (N) progress_notes
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< (N) reminders
    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< (N) rehab_plans
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€< (N) treatment_records

templates (ç‹¬ç«‹è¡¨)
doctors (ç‹¬ç«‹è¡¨)
ai_config (ç‹¬ç«‹è¡¨)
```

---

## 5. ç”¨æˆ·ç•Œé¢è®¾è®¡

### 5.1 ç•Œé¢é£æ ¼è§„èŒƒ

**iOSè®¾è®¡è¯­è¨€**
- **åœ†è§’å¡ç‰‡**ï¼š12-16pxåœ†è§’
- **è‰²å½©ç³»ç»Ÿ**ï¼š
  - ä¸»è‰²è°ƒï¼š#007AFFï¼ˆSF Blueï¼‰
  - èƒŒæ™¯è‰²ï¼š#F2F2F7ï¼ˆæµ…ç°ï¼‰
  - å¡ç‰‡èƒŒæ™¯ï¼š#FFFFFFï¼ˆç™½è‰²ï¼‰
- **å­—ä½“**ï¼šæ¸…æ™°æ˜“è¯»çš„å±‚çº§å­—ä½“
- **é—´è·**ï¼š16px/24px/32pxç»Ÿä¸€é—´è·
- **åŠ¨ç”»**ï¼šå¹³æ»‘è¿‡æ¸¡æ•ˆæœ

### 5.2 ä¸»ç•Œé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¡¶éƒ¨å¯¼èˆªæ  (60px)                                â”‚
â”‚ [ğŸ ] åº·å¤ç§‘åŠ©æ‰‹    2025å¹´1æœˆ23æ—¥ æ˜ŸæœŸå››          â”‚
â”‚                  [ğŸ””5] [â•æ‚£è€…] [âš™ï¸è®¾ç½®]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                      â”‚           â”‚
â”‚ å·¦æ          â”‚ ä¸­æ                  â”‚ å³æ       â”‚â”‚
â”‚ 280px        â”‚ 500px                â”‚ 300px     â”‚â”‚
â”‚              â”‚                      â”‚           â”‚
â”‚ ä»Šæ—¥æ‚£è€…     â”‚ æ‚£è€…å·¥ä½œåŒº           â”‚ å¿«é€Ÿå·¥å…·  â”‚â”‚
â”‚ åˆ—è¡¨         â”‚                      â”‚           â”‚
â”‚              â”‚ â€¢ æ‚£è€…ä¿¡æ¯           â”‚ â€¢ æ¨¡æ¿   â”‚â”‚
â”‚ â€¢ ç´§æ€¥ (çº¢)  â”‚ â€¢ ä»Šæ—¥ä»»åŠ¡           â”‚ â€¢ å†å²   â”‚â”‚
â”‚ â€¢ é«˜ (é»„)    â”‚ â€¢ ç—…ç¨‹ç”Ÿæˆ           â”‚ â€¢ çŸ­è¯­   â”‚â”‚
â”‚ â€¢ æ­£å¸¸ (ç»¿)  â”‚ â€¢ AIé¢„è§ˆ             â”‚           â”‚
â”‚              â”‚                      â”‚           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.3 å…³é”®ç•Œé¢è®¾è®¡

#### å·¦æ ï¼šæ™ºèƒ½æ¨èæ‚£è€…åˆ—è¡¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä»Šæ—¥å¾…åŠ (12)       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                     â”‚
â”‚ ğŸš¨ å¼ ä¸‰ (ç¬¬85å¤©)    â”‚
â”‚    20241234         â”‚
â”‚    è„‘æ¢—æ­»æ¢å¤æœŸ      â”‚
â”‚    â–¶ 2é¡¹ç´§æ€¥æé†’    â”‚
â”‚                     â”‚
â”‚ ğŸŸ¡ æå›› (ç¬¬2å¤©)     â”‚
â”‚    20241235         â”‚
â”‚    è„Šé«“æŸä¼¤æ¢å¤æœŸ    â”‚
â”‚    â–¶ éœ€çœ‹åŒ–éªŒ        â”‚
â”‚                     â”‚
â”‚ ğŸŸ¢ ç‹äº” (ç¬¬15å¤©)    â”‚
â”‚    20241236         â”‚
â”‚    é¢…è„‘æŸä¼¤æ¢å¤æœŸ    â”‚
â”‚    â–¶ å¸¸è§„è®°å½•        â”‚
â”‚                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸­æ ï¼šæ‚£è€…å·¥ä½œåŒº

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ‚£è€…ä¿¡æ¯                         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ä½é™¢å·ï¼š20241234                 â”‚
â”‚ å§“åï¼šå¼ ä¸‰ | æ€§åˆ«ï¼šç”· | 65å²      â”‚
â”‚ å…¥é™¢ï¼š2024-10-30 (ç¬¬85å¤©)        â”‚
â”‚ è¯Šæ–­ï¼šè„‘æ¢—æ­»æ¢å¤æœŸ               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»Šæ—¥ä»»åŠ¡ (2é¡¹)                   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ ğŸš¨ ä½é™¢ç¬¬85å¤©ï¼Œæ³¨æ„90å¤©é™åˆ¶      â”‚
â”‚ ğŸ“ éœ€ä¹¦å†™ä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿è®°å½•        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç—…ç¨‹è®°å½•ç”Ÿæˆ                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ [ğŸ“‹æŸ¥çœ‹å†å²] [ğŸ”æœç´¢èµ„æ–™]        â”‚
â”‚                                 â”‚
â”‚ å½“æ—¥æƒ…å†µï¼š                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ [æ–‡æœ¬è¾“å…¥æ¡†]            â”‚    â”‚
â”‚ â”‚                         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚ [AIç”Ÿæˆ] [ä¿å­˜] [å¯¼å‡ºtxt]       â”‚
â”‚                                 â”‚
â”‚ AIç”Ÿæˆé¢„è§ˆï¼š                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 2025-01-23 09:15 ä¸»æ²»   â”‚    â”‚
â”‚ â”‚ åŒ»å¸ˆæŸ¥æˆ¿è®°å½•            â”‚    â”‚
â”‚ â”‚ ä¸»è¯‰ï¼šæ‚£è€…å³ä¸Šè‚¢è‚ŒåŠ›... â”‚    â”‚
â”‚ â”‚ [å¯ç¼–è¾‘åŒºåŸŸ]            â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å³æ ï¼šå¿«é€Ÿå·¥å…·

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å¿«é€Ÿæ¨¡æ¿             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ [è¯Šæ–­æ¨¡æ¿ â–¾]         â”‚
â”‚ [å¤„ç†æ„è§ â–¾]         â”‚
â”‚ [å®£æ•™å†…å®¹ â–¾]         â”‚
â”‚                     â”‚
â”‚ å¸¸ç”¨çŸ­è¯­ï¼š           â”‚
â”‚ â€¢ æ‚£è€…ç¥å¿—æ¸…ï¼Œç²¾ç¥å¯  â”‚
â”‚ â€¢ ç»§ç»­åº·å¤è®­ç»ƒ       â”‚
â”‚ â€¢ å®¶å±é…åˆ           â”‚
â”‚                     â”‚
â”‚ æœ€è¿‘çš„è®°å½•ï¼š         â”‚
â”‚ 01-22 ä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿   â”‚
â”‚ 01-19 ä½é™¢åŒ»å¸ˆæŸ¥æˆ¿   â”‚
â”‚ 01-16 ä¸»ä»»åŒ»å¸ˆæŸ¥æˆ¿   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ–°æ‚£è€…åˆ›å»ºç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºæ–°æ‚£è€…                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ æ­¥éª¤ 1/3ï¼šè¾“å…¥ä½é™¢å·            â”‚
â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 20241XXX               â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚
â”‚      [ä¸‹ä¸€æ­¥]                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºæ–°æ‚£è€…                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ æ­¥éª¤ 2/3ï¼šç²˜è´´é¦–æ¬¡ç—…ç¨‹è®°å½•      â”‚
â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ [å¤§æ–‡æœ¬æ¡†]              â”‚    â”‚
â”‚ â”‚ è¯·ç²˜è´´é¦–æ¬¡ç—…ç¨‹è®°å½•       â”‚    â”‚
â”‚ â”‚                         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                 â”‚
â”‚  [ä¸Šä¸€æ­¥]  [æå–ä¿¡æ¯ >]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ›å»ºæ–°æ‚£è€…                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ æ­¥éª¤ 3/3ï¼šç¡®è®¤æå–ä¿¡æ¯          â”‚
â”‚                                 â”‚
â”‚ ä½é™¢å·ï¼š20241234 âœ“              â”‚
â”‚ å§“åï¼šå¼ ä¸‰ âœ“                    â”‚
â”‚ æ€§åˆ«ï¼šç”· âœ“                      â”‚
â”‚ å¹´é¾„ï¼š65å² âœ“                    â”‚
â”‚ å…¥é™¢æ—¥æœŸï¼š2024-10-30 âœ“          â”‚
â”‚ ä¸»è¯‰ï¼šå³ä¾§è‚¢ä½“æ´»åŠ¨ä¸åˆ©10å¤© âœ“    â”‚
â”‚ è¯Šæ–­ï¼šè„‘æ¢—æ­»æ¢å¤æœŸ âœ“            â”‚
â”‚                                 â”‚
â”‚  [ä¸Šä¸€æ­¥]  [å®Œæˆå¹¶ä¿å­˜]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.4 è®¾ç½®ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è®¾ç½®                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ [AIæœåŠ¡] [åŒ»å¸ˆ] [çŸ¥è¯†åº“] [å…³äº] â”‚
â”‚                                 â”‚
â”‚ AIæœåŠ¡é…ç½®                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚                                 â”‚
â”‚ é»˜è®¤æœåŠ¡ï¼š                       â”‚
â”‚ âšª ModelScope (é­”æ­)             â”‚
â”‚ âšª DeepSeek                      â”‚
â”‚ âšª Kimi                          â”‚
â”‚                                 â”‚
â”‚ ç¡…åŸºæµåŠ¨ Embedding API           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ APIå¯†é’¥ï¼šsk-...wya âœ“å·²é…ç½®      â”‚
â”‚ åµŒå…¥æ¨¡å‹ï¼šBAAI/bge-large-zh     â”‚
â”‚ [æµ‹è¯•è¿æ¥] âœ“æ­£å¸¸                 â”‚
â”‚                                 â”‚
â”‚ çŸ¥è¯†åº“è®¾ç½®                       â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ å­˜å‚¨è·¯å¾„ï¼š./knowledge_base       â”‚
â”‚ å·²å‘é‡åŒ–ï¼š15ä¸ªæ–‡ä»¶ï¼Œ234ä¸ªç‰‡æ®µ    â”‚
â”‚ [ç®¡ç†çŸ¥è¯†åº“]                     â”‚
â”‚                                 â”‚
â”‚ [ä¿å­˜è®¾ç½®]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. AIé›†æˆæ–¹æ¡ˆ

### 6.1 AIæœåŠ¡æŠ½è±¡å±‚

#### ç­–ç•¥æ¨¡å¼è®¾è®¡

```python
from abc import ABC, abstractmethod

class AIService(ABC):
    """AIæœåŠ¡æŠ½è±¡åŸºç±»"""

    @abstractmethod
    def extract_patient_info(self, initial_note: str) -> dict:
        """ä»é¦–æ¬¡ç—…ç¨‹è®°å½•æå–æ‚£è€…ä¿¡æ¯"""
        pass

    @abstractmethod
    def generate_progress_note(self, context: dict) -> str:
        """ç”Ÿæˆç—…ç¨‹è®°å½•"""
        pass

    @abstractmethod
    def generate_rehab_plan(self, patient_info: dict) -> dict:
        """ç”Ÿæˆåº·å¤è®¡åˆ’"""
        pass
```

### 6.2 æ”¯æŒçš„AIæœåŠ¡

#### 1. ModelScopeï¼ˆé­”æ­ç¤¾åŒºï¼‰

**ç‰¹ç‚¹**ï¼š
- ä»·æ ¼ä½ï¼Œä¸­æ–‡èƒ½åŠ›å¼º
- æœ‰åŒ»ç–—ä¸“ç”¨æ¨¡å‹
- å›½å†…æœåŠ¡ç¨³å®š

**æ¨èæ¨¡å‹**ï¼š
- Qwen2.5-72B-Instructï¼ˆé€šç”¨ï¼‰
- Qwen2.5-14B-Medicalï¼ˆåŒ»ç–—ä¸“ç”¨ï¼‰

```python
class ModelScopeService(AIService):
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.modelscope.cn/v1"

    def generate_progress_note(self, context: dict) -> str:
        # è°ƒç”¨é­”æ­APIç”Ÿæˆç—…ç¨‹è®°å½•
        pass
```

#### 2. DeepSeek

**ç‰¹ç‚¹**ï¼š
- æ¨ç†èƒ½åŠ›å¼º
- é€»è¾‘æ¸…æ™°
- æ€§ä»·æ¯”é«˜

```python
class DeepSeekService(AIService):
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.deepseek.com/v1"
```

#### 3. Kimiï¼ˆæœˆä¹‹æš—é¢ï¼‰

**ç‰¹ç‚¹**ï¼š
- é•¿æ–‡æœ¬å¤„ç†èƒ½åŠ›å¼º
- ä¸Šä¸‹æ–‡çª—å£å¤§
- ä¸­æ–‡ç†è§£å¥½

```python
class KimiService(AIService):
    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.moonshot.cn/v1"
```

### 6.3 æç¤ºè¯å·¥ç¨‹

#### æå–æ‚£è€…ä¿¡æ¯æç¤ºè¯

```python
PROMPT_EXTRACT_PATIENT_INFO = """
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ç—…å†å½•å…¥åŠ©æ‰‹ã€‚è¯·ä»ä»¥ä¸‹é¦–æ¬¡ç—…ç¨‹è®°å½•ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯ï¼Œä»¥JSONæ ¼å¼è¿”å›ï¼š

é¦–æ¬¡ç—…ç¨‹è®°å½•ï¼š
{initial_note}

éœ€è¦æå–çš„å­—æ®µï¼š
- å§“å
- æ€§åˆ«
- å¹´é¾„
- å…¥é™¢æ—¥æœŸ
- ä¸»è¯‰
- è¯Šæ–­
- æ—¢å¾€å²ï¼ˆå¦‚æœ‰ï¼‰
- è¿‡æ•å²ï¼ˆå¦‚æœ‰ï¼‰
- ä¸“ç§‘æ£€æŸ¥ï¼ˆå¦‚æœ‰ï¼‰

è¯·åªè¿”å›JSONï¼Œä¸è¦å…¶ä»–å†…å®¹ã€‚
"""
```

#### ç”Ÿæˆç—…ç¨‹è®°å½•æç¤ºè¯

```python
PROMPT_GENERATE_PROGRESS_NOTE = """
ä½ æ˜¯ä¸€ä½ä¸­åŒ»é™¢åº·å¤ç§‘çš„ä¸“ä¸šåŒ»å¸ˆã€‚è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ç”Ÿæˆä»Šæ—¥ç—…ç¨‹è®°å½•ï¼š

ã€æ‚£è€…åŸºæœ¬ä¿¡æ¯ã€‘
å§“åï¼š{name}
æ€§åˆ«ï¼š{gender}
å¹´é¾„ï¼š{age}
è¯Šæ–­ï¼š{diagnosis}
ä½é™¢ç¬¬{day_number}å¤©

ã€å‚è€ƒçŸ¥è¯†ã€‘
æ¥è‡ªæœ¬åœ°çŸ¥è¯†åº“ï¼š
{knowledge_base_content}

æ¥è‡ªç™¾åº¦ç™¾ç§‘ï¼š
{baidu_baike_content}

ã€é¦–æ¬¡ç—…ç¨‹è®°å½•ã€‘
{initial_note}

ã€æœ€è¿‘2æ¬¡ç—…ç¨‹è®°å½•ã€‘
{recent_notes_1}
{recent_notes_2}

ã€ä»Šæ—¥æƒ…å†µã€‘
{daily_condition}

ã€è®°å½•ç±»å‹ã€‘
{record_type}

è¦æ±‚ï¼š
1. è¯­è¨€é£æ ¼ç¬¦åˆä¸­åŒ»ç—…å†è§„èŒƒ
2. æ ¹æ®è®°å½•ç±»å‹è°ƒæ•´å†…å®¹è¯¦ç•¥ï¼ˆä½é™¢åŒ»å¸ˆè¯¦ç»†ï¼Œä¸»æ²»/ä¸»ä»»åŒ»å¸ˆç®€æ´ï¼‰
3. ä¸»è¯‰éƒ¨åˆ†ç»“åˆä»Šæ—¥æƒ…å†µæ›´æ–°
4. æŸ¥ä½“éƒ¨åˆ†æŒ‰å®é™…æƒ…å†µæè¿°ï¼Œå¦‚æ— ç‰¹æ®Šå˜åŒ–å¯å†™"æŸ¥ä½“åŒå‰"
5. åˆ†æå’Œå¤„ç†æ„è§è¦ä½“ç°ä¸­åŒ»ç‰¹è‰²å’Œåº·å¤ä¸“ä¸šç‰¹ç‚¹
6. å­—æ•°æ§åˆ¶åœ¨200-400å­—

è¯·ç›´æ¥è¾“å‡ºç—…ç¨‹è®°å½•å†…å®¹ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š
YYYY-MM-DD HH:MM è®°å½•ç±»å‹
ä¸»è¯‰ï¼š...
æŸ¥ä½“ï¼š...
åˆ†æï¼š...
å¤„ç†ï¼š...
ç­¾åï¼š...
"""
```

### 6.4 AIæœåŠ¡ç®¡ç†å™¨

```python
class AIServiceManager:
    """AIæœåŠ¡ç®¡ç†å™¨"""

    def __init__(self, config: dict):
        self.services = {}
        self.default_service = None

        # åŠ¨æ€åŠ è½½AIæœåŠ¡
        for provider, settings in config.items():
            if settings.get('api_key'):
                service_class = self._get_service_class(provider)
                self.services[provider] = service_class(
                    api_key=settings['api_key']
                )
                if settings.get('is_default'):
                    self.default_service = provider

    def get_service(self, provider: str = None):
        """è·å–AIæœåŠ¡å®ä¾‹"""
        if provider is None:
            provider = self.default_service
        return self.services.get(provider)

    def _get_service_class(self, provider: str):
        """æ ¹æ®æœåŠ¡å•†åç§°è¿”å›å¯¹åº”çš„ç±»"""
        service_map = {
            'modelscope': ModelScopeService,
            'deepseek': DeepSeekService,
            'kimi': KimiService
        }
        return service_map.get(provider)
```

---

## 7. æé†’ç³»ç»Ÿè®¾è®¡

### 7.1 æé†’è§¦å‘è§„åˆ™å¼•æ“

#### è‡ªåŠ¨æé†’ç”Ÿæˆæ—¶æœº

```python
class ReminderGenerator:
    """æé†’ç”Ÿæˆå™¨"""

    def generate_reminders(self, patient: Patient):
        """ä¸ºæ‚£è€…ç”Ÿæˆæ‰€æœ‰æé†’"""
        reminders = []

        admission_date = patient.admission_date
        discharge_date = patient.discharge_date

        # 1. ç¬¬2å¤©æé†’ï¼šæŸ¥çœ‹åŒ–éªŒ
        reminders.append(self._create_reminder(
            patient_id=patient.id,
            reminder_type="lab_review",
            day=2,
            description="è¯·æŸ¥çœ‹åŒ–éªŒæ£€æŸ¥ç»“æœ",
            priority="ä¸­"
        ))

        # 2. é˜¶æ®µå°ç»“æé†’ï¼ˆæ¯30å¤©ï¼‰
        for day in range(30, 91, 30):
            if day <= self._calculate_total_days(admission_date, discharge_date):
                reminders.append(self._create_reminder(
                    patient_id=patient.id,
                    reminder_type="summary",
                    day=day,
                    description=f"ä»Šæ—¥éœ€ä¹¦å†™é˜¶æ®µå°ç»“ï¼ˆä½é™¢ç¬¬{day}å¤©ï¼‰",
                    priority="é«˜"
                ))

        # 3. æŸ¥æˆ¿è®°å½•æé†’ï¼ˆåŸºäºrounds_generatoré€»è¾‘ï¼‰
        rounds_records = self._generate_rounds_schedule(admission_date, discharge_date)
        for record in rounds_records:
            reminders.append(self._create_reminder(
                patient_id=patient.id,
                reminder_type="progress_note",
                day=record['day'],
                description=f"éœ€ä¹¦å†™{record['type']}è®°å½•",
                priority="ä¸­"
            ))

        # 4. è¶…æœŸé¢„è­¦
        for day in range(80, 91):
            if day <= self._calculate_total_days(admission_date, discharge_date):
                if day == 80:
                    description = "âš ï¸ æ‚£è€…å·²ä½é™¢80å¤©ï¼Œæ³¨æ„90å¤©é™åˆ¶ï¼"
                    priority = "é«˜"
                elif day < 90:
                    description = f"âš ï¸ ä½é™¢ç¬¬{day}å¤©ï¼Œéœ€åŠ å¿«åº·å¤è¿›ç¨‹ï¼"
                    priority = "é«˜"
                else:  # day == 90
                    description = "ğŸš¨ ä»Šæ—¥å·²è¾¾90å¤©ï¼Œå¿…é¡»å‡†å¤‡å‡ºé™¢æˆ–åŠç†å»¶é•¿æ‰‹ç»­ï¼"
                    priority = "ç´§æ€¥"

                reminders.append(self._create_reminder(
                    patient_id=patient.id,
                    reminder_type="duration_warning",
                    day=day,
                    description=description,
                    priority=priority
                ))

        return reminders
```

### 7.2 æ™ºèƒ½æé†’ç”Ÿæˆ

```python
class SmartReminderGenerator:
    """åŸºäºAIçš„æ™ºèƒ½æé†’ç”Ÿæˆ"""

    def generate_contextual_reminders(self,
                                      progress_note: str,
                                      ai_service: AIService):
        """ä»ç—…ç¨‹è®°å½•ä¸­ç”Ÿæˆä¸Šä¸‹æ–‡ç›¸å…³çš„æé†’"""
        reminders = []

        # ä½¿ç”¨AIåˆ†æç—…ç¨‹è®°å½•ï¼Œè¯†åˆ«éœ€è¦æé†’çš„å†…å®¹
        prompt = f"""
        åˆ†æä»¥ä¸‹ç—…ç¨‹è®°å½•ï¼Œè¯†åˆ«éœ€è¦åç»­è·Ÿè¿›æˆ–æé†’çš„äº‹é¡¹ï¼š

        {progress_note}

        è¯·æå–éœ€è¦æé†’çš„å†…å®¹ï¼Œä¾‹å¦‚ï¼š
        - æ£€éªŒå¼‚å¸¸éœ€è¦å¤æŸ¥
        - éœ€è¦ä¼šè¯Š
        - éœ€è¦è°ƒæ•´æ²»ç–—æ–¹æ¡ˆ
        - éœ€è¦ä¸å®¶å±æ²Ÿé€š

        è¿”å›JSONæ ¼å¼çš„æé†’åˆ—è¡¨ã€‚
        """

        result = ai_service._call_ai(prompt)

        # è§£æAIè¿”å›çš„ç»“æœï¼Œç”Ÿæˆæé†’
        for item in result.get('reminders', []):
            reminders.append(self._create_reminder(
                reminder_type="contextual",
                description=item['description'],
                priority=item.get('priority', 'ä¸­'),
                due_date=item.get('due_date')
            ))

        return reminders
```

### 7.3 æé†’å±•ç¤ºä¸ç®¡ç†

```python
class ReminderManager:
    """æé†’ç®¡ç†å™¨"""

    def get_today_reminders(self, priority_filter: str = None):
        """è·å–ä»Šæ—¥æ‰€æœ‰å¾…å®Œæˆæé†’"""
        query = """
        SELECT r.*, p.name, p.hospital_number
        FROM reminders r
        JOIN patients p ON r.patient_id = p.id
        WHERE r.reminder_date = TODAY()
          AND r.is_completed = 0
        """

        if priority_filter:
            query += f" AND r.priority = '{priority_filter}'"

        query += " ORDER BY r.priority DESC"

        return self.db.execute(query)

    def mark_completed(self, reminder_id: int):
        """æ ‡è®°æé†’ä¸ºå·²å®Œæˆ"""
        self.db.execute("""
            UPDATE reminders
            SET is_completed = 1, completed_at = CURRENT_TIMESTAMP
            WHERE id = ?
        """, (reminder_id,))
```

---

## 8. çŸ¥è¯†åº“ç®¡ç†

### 8.1 çŸ¥è¯†åº“å‘é‡åŒ–æ–¹æ¡ˆ

#### æŠ€æœ¯é€‰å‹

**ç¡…åŸºæµåŠ¨Embedding API**
- âœ… å®Œå…¨å…è´¹
- âœ… äº‘ç«¯å¤„ç†ï¼Œæ— éœ€æœ¬åœ°éƒ¨ç½²
- âœ… é«˜æ€§èƒ½å‘é‡ç”Ÿæˆ
- âœ… ä¸­æ–‡è¯­ä¹‰ç†è§£ä¼˜åŒ–

**ChromaDB**
- âœ… è½»é‡çº§æœ¬åœ°å‘é‡æ•°æ®åº“
- âœ… å¼€æºå…è´¹
- âœ… PythonåŸç”Ÿæ”¯æŒ
- âœ… è‡ªåŠ¨æŒä¹…åŒ–

### 8.2 çŸ¥è¯†åº“æ¶æ„

```
çŸ¥è¯†åº“æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ knowledge_base/
â”‚   â”œâ”€â”€ files/                  # åŸå§‹æ–‡ä»¶ï¼ˆå¹³é“ºå­˜å‚¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ ä¸­å›½è„‘å’ä¸­åº·å¤æ²»ç–—æŒ‡å—2019.pdf
â”‚   â”‚   â”œâ”€â”€ åº·å¤åŒ»å­¦ï¼ˆç¬¬6ç‰ˆï¼‰.epub
â”‚   â”‚   â”œâ”€â”€ ç¥ç»åº·å¤å­¦.epub
â”‚   â”‚   â”œâ”€â”€ é’ˆç¸å­¦.epub
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â””â”€â”€ data/                   # ChromaDBå‘é‡å­˜å‚¨
â”‚       â””â”€â”€ chroma.sqlite3
```

### 8.3 å‘é‡åŒ–å¤„ç†æµç¨‹

```
æ–‡ä»¶ä¸Šä¼ 
    â†“
æ–‡æ¡£è§£æå™¨
    â”œâ”€â”€ PDF â†’ PyPDF
    â”œâ”€â”€ EPUB â†’ ebooklib
    â”œâ”€â”€ Word â†’ python-docx
    â””â”€â”€ TXT â†’ ç›´æ¥è¯»å–
    â†“
æ–‡æœ¬åˆ†å—ï¼ˆChunkingï¼‰
    â”œâ”€â”€ æ¯å—800-1000å­—
    â”œâ”€â”€ é‡å 100å­—
    â””â”€â”€ æ™ºèƒ½åˆ†å‰²ï¼ˆåœ¨å¥å·ã€æ¢è¡Œå¤„ï¼‰
    â†“
ç¡…åŸºæµåŠ¨APIå‘é‡åŒ–
    â””â”€â”€ BAAI/bge-large-zh-v1.5
    â†“
å­˜å‚¨åˆ°ChromaDB
    â”œâ”€â”€ ID: chunk_001
    â”œâ”€â”€ Text: "è„‘æ¢—æ­»åº·å¤..."
    â”œâ”€â”€ Vector: [0.12, -0.34, ...]
    â””â”€â”€ Metadata: {source: "æŒ‡å—.pdf"}
```

### 8.4 çŸ¥è¯†åº“ç®¡ç†å™¨å®ç°

```python
import chromadb
import requests
import os

class SiliconFlowEmbedder:
    """ç¡…åŸºæµåŠ¨åµŒå…¥æœåŠ¡"""

    def __init__(self, api_key: str):
        self.api_key = api_key
        self.base_url = "https://api.siliconflow.cn/v1"
        self.headers = {
            "Authorization": f"Bearer {api_key}",
            "Content-Type": "application/json"
        }

    def encode(self, texts: list) -> list:
        """å°†æ–‡æœ¬å‘é‡åŒ–"""
        response = requests.post(
            f"{self.base_url}/embeddings",
            headers=self.headers,
            json={
                "model": "BAAI/bge-large-zh-v1.5",
                "input": texts,
                "encoding_format": "float"
            }
        )

        response.raise_for_status()
        result = response.json()

        # æå–å‘é‡
        embeddings = [item["embedding"] for item in result["data"]]
        return embeddings


class KnowledgeBaseManager:
    """çŸ¥è¯†åº“ç®¡ç†å™¨"""

    def __init__(self, config_path: str = "config.json"):
        import json

        # åŠ è½½é…ç½®
        with open(config_path, 'r', encoding='utf-8') as f:
            config = json.load(f)

        # åˆå§‹åŒ–ç¡…åŸºæµåŠ¨åµŒå…¥å™¨
        self.embedder = SiliconFlowEmbedder(
            api_key=config["siliconflow"]["api_key"]
        )

        # åˆå§‹åŒ–ChromaDB
        self.chroma_client = chromadb.PersistentClient(
            path=config["knowledge_base"]["chroma_path"]
        )

        self.collection = self.chroma_client.get_or_create_collection(
            name="medical_knowledge"
        )

        self.chunk_size = config["knowledge_base"]["chunk_size"]
        self.chunk_overlap = config["knowledge_base"]["chunk_overlap"]

    def add_document(self, file_path: str):
        """æ·»åŠ æ–‡æ¡£å¹¶å‘é‡åŒ–"""
        print(f"æ­£åœ¨å¤„ç†: {file_path}")

        # 1. è§£ææ–‡ä»¶ä¸ºæ–‡æœ¬
        text = self._parse_file(file_path)
        print(f"  è§£æå®Œæˆï¼Œæ–‡æœ¬é•¿åº¦: {len(text)} å­—ç¬¦")

        # 2. æ–‡æœ¬åˆ†å—
        chunks = self._split_text(text)
        print(f"  åˆ†å—å®Œæˆï¼Œå…± {len(chunks)} ä¸ªç‰‡æ®µ")

        # 3. è°ƒç”¨ç¡…åŸºæµåŠ¨APIå‘é‡åŒ–
        print(f"  æ­£åœ¨å‘é‡åŒ–ï¼ˆä½¿ç”¨ç¡…åŸºæµåŠ¨APIï¼‰...")
        embeddings = self.embedder.encode(chunks)
        print(f"  å‘é‡åŒ–å®Œæˆï¼Œç»´åº¦: {len(embeddings[0])}")

        # 4. å­˜å‚¨åˆ°ChromaDB
        self.collection.add(
            documents=chunks,
            embeddings=embeddings,
            metadatas=[{
                "source": os.path.basename(file_path),
                "file_path": file_path
            } for _ in chunks],
            ids=[f"{os.path.basename(file_path)}_{i}"
                 for i in range(len(chunks))]
        )
        print(f"  âœ“ å·²å­˜å‚¨åˆ°çŸ¥è¯†åº“")

    def search(self, query: str, top_k: int = 5):
        """è¯­ä¹‰æ£€ç´¢"""
        # 1. æŸ¥è¯¢å‘é‡åŒ–
        query_vector = self.embedder.encode([query])[0]

        # 2. ChromaDBæ£€ç´¢
        results = self.collection.query(
            query_embeddings=[query_vector],
            n_results=top_k
        )

        # 3. æ ¼å¼åŒ–ç»“æœ
        formatted_results = []
        for i in range(len(results["ids"][0])):
            formatted_results.append({
                "text": results["documents"][0][i],
                "source": results["metadatas"][0][i]["source"],
                "distance": results["distances"][0][i]
            })

        return formatted_results

    def _parse_file(self, file_path: str) -> str:
        """è§£ææ–‡ä»¶ä¸ºæ–‡æœ¬"""
        ext = os.path.splitext(file_path)[1].lower()

        if ext == '.pdf':
            return self._parse_pdf(file_path)
        elif ext in ['.doc', '.docx']:
            return self._parse_word(file_path)
        elif ext == '.epub':
            return self._parse_epub(file_path)
        elif ext == '.txt':
            return self._parse_txt(file_path)
        else:
            raise ValueError(f"ä¸æ”¯æŒçš„æ–‡ä»¶æ ¼å¼: {ext}")

    def _split_text(self, text: str) -> list:
        """æ™ºèƒ½æ–‡æœ¬åˆ†å—"""
        chunks = []
        start = 0
        text_length = len(text)

        while start < text_length:
            end = start + self.chunk_size

            # å¦‚æœä¸æ˜¯æœ€åä¸€å—ï¼Œå°è¯•åœ¨æ ‡ç‚¹ç¬¦å·å¤„åˆ†å‰²
            if end < text_length:
                for separator in ['ã€‚', 'ï¼', 'ï¼Ÿ', '\n\n', 'ï¼›']:
                    sep_pos = text.rfind(separator, start, end)
                    if sep_pos != -1:
                        end = sep_pos + 1
                        break

            chunk = text[start:end].strip()
            if chunk:
                chunks.append(chunk)

            start = end - self.chunk_overlap

        return chunks
```

### 8.5 çŸ¥è¯†åº“ä½¿ç”¨æµç¨‹

```python
# åˆå§‹åŒ–çŸ¥è¯†åº“
kb = KnowledgeBaseManager()

# æ·»åŠ æ–‡æ¡£
kb.add_document("knowledge_base/files/ä¸­å›½è„‘å’ä¸­åº·å¤æŒ‡å—.pdf")
# è¾“å‡ºï¼š
# æ­£åœ¨å¤„ç†: knowledge_base/files/ä¸­å›½è„‘å’ä¸­åº·å¤æŒ‡å—.pdf
#   è§£æå®Œæˆï¼Œæ–‡æœ¬é•¿åº¦: 45230 å­—ç¬¦
#   åˆ†å—å®Œæˆï¼Œå…± 67 ä¸ªç‰‡æ®µ
#   æ­£åœ¨å‘é‡åŒ–ï¼ˆä½¿ç”¨ç¡…åŸºæµåŠ¨APIï¼‰...
#   å‘é‡åŒ–å®Œæˆï¼Œç»´åº¦: 1024
#   âœ“ å·²å­˜å‚¨åˆ°çŸ¥è¯†åº“

# è¯­ä¹‰æ£€ç´¢
results = kb.search("è„‘æ¢—æ­»æ¢å¤æœŸåº·å¤è®­ç»ƒæ–¹æ¡ˆ", top_k=3)

for i, result in enumerate(results, 1):
    similarity = 1 - result['distance']
    print(f"\nç»“æœ {i} (ç›¸ä¼¼åº¦: {similarity:.2%})")
    print(f"æ¥æº: {result['source']}")
    print(f"å†…å®¹: {result['text'][:200]}...")
```

### 8.6 AIè°ƒç”¨æ—¶çš„çŸ¥è¯†æ•´åˆ

```python
class ProgressNoteGenerator:
    """ç—…ç¨‹è®°å½•ç”Ÿæˆå™¨ï¼ˆé›†æˆçŸ¥è¯†åº“ï¼‰"""

    def generate(self, context: dict, kb_manager: KnowledgeBaseManager):
        """ç”Ÿæˆç—…ç¨‹è®°å½•ï¼ˆç»“åˆçŸ¥è¯†åº“ï¼‰"""

        # 1. ä»çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³å†…å®¹
        search_query = f"{context['diagnosis']} {context['daily_condition']}"
        kb_results = kb_manager.search(search_query, top_k=3)

        # 2. æœç´¢ç™¾åº¦ç™¾ç§‘
        baidu_result = self._search_baidu_baike(context['diagnosis'])

        # 3. æ•´åˆæ‰€æœ‰ä¿¡æ¯
        knowledge_content = "\n".join([
            f"ã€æ¥è‡ª {r['source']}ã€‘\n{r['text']}\n"
            for r in kb_results
        ])

        # 4. æ„å»ºå®Œæ•´æç¤ºè¯
        prompt = self._build_prompt(
            context=context,
            knowledge_base_content=knowledge_content,
            baidu_baike_content=baidu_result
        )

        # 5. è°ƒç”¨AIç”Ÿæˆ
        generated_note = self.ai_service.generate_progress_note(
            context={
                **context,
                'knowledge_base_content': knowledge_content,
                'baidu_baike_content': baidu_result
            }
        )

        return generated_note
```

---

## 9. æŠ€æœ¯å®ç°ç»†èŠ‚

### 9.1 é¡¹ç›®ç›®å½•ç»“æ„

```
rehabilitation_assistant/
â”œâ”€â”€ main.py                      # åº”ç”¨å…¥å£
â”œâ”€â”€ config.json                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt             # ä¾èµ–åº“
â”‚
â”œâ”€â”€ database/                    # æ•°æ®åº“æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ models.py               # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ db_manager.py           # æ•°æ®åº“ç®¡ç†å™¨
â”‚   â””â”€â”€ migrations/             # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚
â”œâ”€â”€ ai_services/                 # AIæœåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_service.py         # AIæœåŠ¡æŠ½è±¡æ¥å£
â”‚   â”œâ”€â”€ siliconflow_embedder.py # ç¡…åŸºæµåŠ¨åµŒå…¥æœåŠ¡
â”‚   â”œâ”€â”€ modelscope_service.py   # é­”æ­AIæœåŠ¡
â”‚   â”œâ”€â”€ deepseek_service.py     # DeepSeekæœåŠ¡
â”‚   â””â”€â”€ kimi_service.py         # KimiæœåŠ¡
â”‚
â”œâ”€â”€ knowledge_base/              # çŸ¥è¯†åº“æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ kb_manager.py           # çŸ¥è¯†åº“ç®¡ç†å™¨
â”‚   â”œâ”€â”€ document_parser.py      # æ–‡æ¡£è§£æå™¨
â”‚   â””â”€â”€ data/                   # ChromaDBå‘é‡å­˜å‚¨
â”‚
â”œâ”€â”€ modules/                     # æ ¸å¿ƒä¸šåŠ¡æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ patient_manager.py      # æ‚£è€…ç®¡ç†
â”‚   â”œâ”€â”€ progress_note.py        # ç—…ç¨‹è®°å½•ç”Ÿæˆ
â”‚   â”œâ”€â”€ reminder_system.py      # æé†’ç³»ç»Ÿ
â”‚   â”œâ”€â”€ rehab_plan.py           # åº·å¤è®¡åˆ’
â”‚   â”œâ”€â”€ treatment_record.py     # æ²»ç–—è®°å½•
â”‚   â””â”€â”€ template_manager.py     # æ¨¡æ¿ç®¡ç†
â”‚
â”œâ”€â”€ ui/                          # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main_window.py          # ä¸»çª—å£
â”‚   â”œâ”€â”€ patient_list_panel.py   # æ‚£è€…åˆ—è¡¨é¢æ¿
â”‚   â”œâ”€â”€ workspace_panel.py      # å·¥ä½œåŒºé¢æ¿
â”‚   â”œâ”€â”€ template_panel.py       # å¿«é€Ÿæ¨¡æ¿é¢æ¿
â”‚   â””â”€â”€ dialogs/                # å¯¹è¯æ¡†
â”‚       â”œâ”€â”€ new_patient.py      # æ–°æ‚£è€…å¯¹è¯æ¡†
â”‚       â”œâ”€â”€ settings.py         # è®¾ç½®å¯¹è¯æ¡†
â”‚       â””â”€â”€ knowledge_base.py   # çŸ¥è¯†åº“ç®¡ç†å¯¹è¯æ¡†
â”‚
â”œâ”€â”€ utils/                       # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ date_calculator.py      # æ—¥æœŸè®¡ç®—
â”‚   â”œâ”€â”€ text_exporter.py        # æ–‡æœ¬å¯¼å‡º
â”‚   â””â”€â”€ validators.py           # æ•°æ®éªŒè¯
â”‚
â”œâ”€â”€ prompts/                     # AIæç¤ºè¯æ¨¡æ¿
â”‚   â”œâ”€â”€ extract_patient_info.txt
â”‚   â”œâ”€â”€ generate_progress_note.txt
â”‚   â””â”€â”€ generate_rehab_plan.txt
â”‚
â””â”€â”€ docs/                        # æ–‡æ¡£
    â””â”€â”€ README.md
```

### 9.2 ä¾èµ–åº“æ¸…å•

```txt
# requirements.txt

# GUIæ¡†æ¶
customtkinter>=5.2.0

# æ•°æ®åº“
sqlalchemy>=2.0.0

# AIå’Œå‘é‡æ•°æ®åº“
requests>=2.31.0
chromadb>=0.4.0

# æ–‡æ¡£è§£æ
pypdf>=3.0.0
python-docx>=0.8.11
ebooklib>=0.18
Pillow>=10.0.0

# å·¥å…·åº“
python-dateutil>=2.8.0
```

### 9.3 é…ç½®æ–‡ä»¶ç¤ºä¾‹

```json
{
  "app": {
    "name": "åº·å¤ç§‘åŠ©æ‰‹",
    "version": "1.0.0",
    "database_path": "./rehab_assistant.db"
  },

  "siliconflow": {
    "api_key": "sk-tweswtuyrbzxxjiziprqrqchpkiwyxapctgaqutocucsptqx",
    "embedding_model": "BAAI/bge-large-zh-v1.5",
    "base_url": "https://api.siliconflow.cn/v1"
  },

  "ai_services": {
    "default": "modelscope",
    "modelscope": {
      "api_key": "",
      "model": "Qwen2.5-72B-Instruct"
    },
    "deepseek": {
      "api_key": "",
      "model": "deepseek-chat"
    },
    "kimi": {
      "api_key": "",
      "model": "moonshot-v1-8k"
    }
  },

  "knowledge_base": {
    "chroma_path": "./knowledge_base/data",
    "file_path": "./knowledge_base/files",
    "chunk_size": 800,
    "chunk_overlap": 100,
    "top_k_results": 5
  },

  "doctors": {
    "resident": "äºå‹è¾¾",
    "attending": "éƒ½å‰é¦™",
    "chief": "è½¦æ°¸ç”Ÿ"
  }
}
```

### 9.4 ä¸ç°æœ‰ä»£ç é›†æˆ

æ‚¨ç°æœ‰çš„`rounds_generator.py`å°†è¢«é›†æˆåˆ°å·¥å…·æ¨¡å—ï¼š

```python
# utils/date_calculator.py
from datetime import datetime, timedelta
import sys
import os

# æ·»åŠ rounds_generator.pyåˆ°è·¯å¾„
sys.path.append(os.path.dirname(__file__))
from rounds_generator import DoctorRoundsGenerator

class DateCalculator:
    """æ—¥æœŸè®¡ç®—å·¥å…·ç±»"""

    @staticmethod
    def get_rounds_type(admission_date: str, current_date: str) -> str:
        """è·å–æŸ¥æˆ¿ç±»å‹"""
        generator = DoctorRoundsGenerator(admission_date, current_date)
        day = (datetime.strptime(current_date, '%Y-%m-%d') -
               datetime.strptime(admission_date, '%Y-%m-%d')).days + 1
        return generator._get_rounds_type(day)

    @staticmethod
    def generate_all_reminders(admission_date: str, discharge_date: str):
        """ç”Ÿæˆæ‰€æœ‰æŸ¥æˆ¿æé†’"""
        generator = DoctorRoundsGenerator(admission_date, discharge_date)
        records = generator.generate_all_rounds_records()
        return records
```

### 9.5 æ•°æ®åº“åˆå§‹åŒ–

```python
# database/db_manager.py
from sqlalchemy import create_engine, Column, Integer, String, Text, Boolean, Date
from sqlalchemy.ext.declarative import declarative_base
from sqlalchemy.orm import sessionmaker
from datetime import datetime

Base = declarative_base()

class Patient(Base):
    __tablename__ = 'patients'

    id = Column(Integer, primary_key=True)
    hospital_number = Column(String(50), unique=True, nullable=False)
    name = Column(String(50))
    gender = Column(String(10))
    age = Column(Integer)
    admission_date = Column(Date)
    discharge_date = Column(Date, nullable=True)
    chief_complaint = Column(Text)
    diagnosis = Column(Text)
    past_history = Column(Text)
    allergy_history = Column(Text)
    specialist_exam = Column(Text)
    initial_note = Column(Text)
    created_at = Column(Date, default=datetime.now)
    updated_at = Column(Date, default=datetime.now, onupdate=datetime.now)

class DBManager:
    """æ•°æ®åº“ç®¡ç†å™¨"""

    def __init__(self, db_path: str = "./rehab_assistant.db"):
        self.engine = create_engine(f'sqlite:///{db_path}')
        Base.metadata.create_all(self.engine)
        Session = sessionmaker(bind=self.engine)
        self.session = Session()

    def add_patient(self, patient_data: dict):
        """æ·»åŠ æ‚£è€…"""
        patient = Patient(**patient_data)
        self.session.add(patient)
        self.session.commit()
        return patient.id

    def get_patient_by_hospital_number(self, hospital_number: str):
        """æ ¹æ®ä½é™¢å·è·å–æ‚£è€…"""
        return self.session.query(Patient).filter(
            Patient.hospital_number == hospital_number
        ).first()
```

---

## 10. éƒ¨ç½²ä¸ä½¿ç”¨

### 10.1 å®‰è£…æ­¥éª¤

#### 1. ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…Python 3.10+
python --version

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate
```

#### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

#### 3. é…ç½®APIå¯†é’¥

ç¼–è¾‘`config.json`ï¼Œå¡«å…¥æ‚¨çš„AIæœåŠ¡APIå¯†é’¥ï¼š
- ModelScope API Keyï¼ˆå¦‚ä½¿ç”¨ï¼‰
- DeepSeek API Keyï¼ˆå¦‚ä½¿ç”¨ï¼‰
- Kimi API Keyï¼ˆå¦‚ä½¿ç”¨ï¼‰
- ç¡…åŸºæµåŠ¨API Keyï¼ˆå·²é…ç½®ï¼‰

#### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
python main.py --init-db
```

#### 5. å¯åŠ¨åº”ç”¨

```bash
python main.py
```

### 10.2 ä½¿ç”¨æµç¨‹

#### é¦–æ¬¡ä½¿ç”¨

1. **è®¾ç½®AIæœåŠ¡**
   - æ‰“å¼€è®¾ç½® â†’ AIæœåŠ¡
   - é…ç½®è‡³å°‘ä¸€ä¸ªAIæœåŠ¡çš„APIå¯†é’¥
   - ç‚¹å‡»"æµ‹è¯•è¿æ¥"ç¡®è®¤

2. **æ·»åŠ çŸ¥è¯†åº“æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰**
   - æ‰“å¼€è®¾ç½® â†’ çŸ¥è¯†åº“
   - ç‚¹å‡»"ä¸Šä¼ æ–‡ä»¶"
   - é€‰æ‹©PDF/EPUB/Wordç­‰æ–‡æ¡£
   - ç³»ç»Ÿè‡ªåŠ¨å‘é‡åŒ–

3. **é…ç½®åŒ»å¸ˆä¿¡æ¯**
   - æ‰“å¼€è®¾ç½® â†’ åŒ»å¸ˆ
   - æ·»åŠ åŒ»å¸ˆå§“åå’Œè§’è‰²
   - è®¾ç½®é»˜è®¤ç­¾ååŒ»å¸ˆ

#### æ—¥å¸¸ä½¿ç”¨

**åˆ›å»ºæ–°æ‚£è€…**
```
1. ç‚¹å‡»ä¸»ç•Œé¢"â•æ–°æ‚£è€…"
2. è¾“å…¥ä½é™¢å·ï¼ˆä»HISè·å–ï¼‰
3. ç²˜è´´é¦–æ¬¡ç—…ç¨‹è®°å½•
4. ç¡®è®¤AIæå–çš„ä¿¡æ¯
5. ä¿å­˜æ‚£è€…æ¡£æ¡ˆ
```

**ç”Ÿæˆç—…ç¨‹è®°å½•**
```
1. åœ¨ä»Šæ—¥æ‚£è€…åˆ—è¡¨ä¸­é€‰æ‹©æ‚£è€…
2. åœ¨"å½“æ—¥æƒ…å†µ"æ–‡æœ¬æ¡†è¾“å…¥ä»Šæ—¥æƒ…å†µ
3. ï¼ˆå¯é€‰ï¼‰ç‚¹å‡»"ğŸ”æœç´¢èµ„æ–™"æŸ¥çœ‹çŸ¥è¯†åº“å’Œç™¾åº¦ç™¾ç§‘
4. ç‚¹å‡»"AIç”Ÿæˆ"
5. æŸ¥çœ‹å¹¶å¾®è°ƒç”Ÿæˆçš„å†…å®¹
6. ç‚¹å‡»"ä¿å­˜"
7. ï¼ˆå¯é€‰ï¼‰ç‚¹å‡»"å¯¼å‡ºtxt"å¯¼å‡ºè®°å½•
```

**æŸ¥çœ‹æé†’**
```
1. å¯åŠ¨åº”ç”¨è‡ªåŠ¨åŠ è½½ä»Šæ—¥æé†’
2. å·¦æ æ‚£è€…å¡ç‰‡æ˜¾ç¤ºæé†’æ•°é‡å’Œä¼˜å…ˆçº§
3. ç‚¹å‡»å¡ç‰‡æŸ¥çœ‹å…·ä½“æé†’
4. å®Œæˆåæ ‡è®°ä¸ºå·²å®Œæˆ
```

### 10.3 æ•°æ®å¤‡ä»½

```bash
# å¤‡ä»½æ•°æ®åº“
cp rehab_assistant.db backup/rehab_assistant_$(date +%Y%m%d).db

# å¤‡ä»½çŸ¥è¯†åº“å‘é‡æ•°æ®
cp -r knowledge_base/data backup/knowledge_data_$(date +%Y%m%d)/
```

### 10.4 å¸¸è§é—®é¢˜

**Q: AIç”Ÿæˆå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Œç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸ï¼Œå°è¯•åˆ‡æ¢å¤‡ç”¨AIæœåŠ¡ã€‚

**Q: çŸ¥è¯†åº“å‘é‡åŒ–å¤±è´¥ï¼Ÿ**
A: æ£€æŸ¥ç¡…åŸºæµåŠ¨APIå¯†é’¥ï¼Œç¡®è®¤ç½‘ç»œå¯è®¿é—®api.siliconflow.cnã€‚

**Q: å¦‚ä½•æ‰¹é‡å¯¼å…¥æ‚£è€…ï¼Ÿ**
A: ç›®å‰ä»…æ”¯æŒæ‰‹åŠ¨åˆ›å»ºï¼Œåç»­ç‰ˆæœ¬å¯å¢åŠ CSVæ‰¹é‡å¯¼å…¥åŠŸèƒ½ã€‚

**Q: æ•°æ®å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ**
A: æ‰€æœ‰æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ï¼š
- æ•°æ®åº“ï¼šrehab_assistant.db
- çŸ¥è¯†åº“å‘é‡ï¼šknowledge_base/data/
- é…ç½®æ–‡ä»¶ï¼šconfig.json

---

## é™„å½•

### A. åŒ»å¸ˆè§’è‰²è¯´æ˜

**ä½é™¢åŒ»å¸ˆ**
- è´Ÿè´£æ—¥å¸¸æŸ¥æˆ¿å’Œç—…ç¨‹è®°å½•ä¹¦å†™
- è¯¦ç»†è®°å½•æ‚£è€…æƒ…å†µ

**ä¸»æ²»åŒ»å¸ˆ**
- å®šæœŸæŸ¥æˆ¿ï¼ˆç¬¬2å¤©ï¼Œä¹‹åæ¯3å¤©å‘¨æœŸï¼‰
- æŒ‡å¯¼ä½é™¢åŒ»å¸ˆå·¥ä½œ
- ç®€æ˜æ‰¼è¦è®°å½•

**ä¸»ä»»åŒ»å¸ˆ**
- é‡è¦æŸ¥æˆ¿èŠ‚ç‚¹ï¼ˆç¬¬3å¤©ï¼Œä¹‹åæ¯3å¤©å‘¨æœŸï¼‰
- åˆ¶å®šæ²»ç–—æ–¹æ¡ˆ
- ç®€æ´è®°å½•

### B. è®°å½•ç±»å‹é¢‘ç‡

| ä½é™¢å¤©æ•° | è®°å½•ç±»å‹ | è¯´æ˜ |
|---------|---------|------|
| 2 | ä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿ | é¦–æ¬¡ä¸Šçº§åŒ»å¸ˆæŸ¥æˆ¿ |
| 3 | ä¸»ä»»åŒ»å¸ˆæŸ¥æˆ¿ | é¦–æ¬¡ä¸»ä»»æŸ¥æˆ¿ |
| 6 | ä½é™¢åŒ»å¸ˆæŸ¥æˆ¿ | å¸¸è§„å‘¨æœŸå¼€å§‹ |
| 9 | ä¸»æ²»åŒ»å¸ˆæŸ¥æˆ¿ | 3å¤©å‘¨æœŸ |
| 12 | ä¸»ä»»åŒ»å¸ˆæŸ¥æˆ¿ | 3å¤©å‘¨æœŸ |
| 15 | ä½é™¢åŒ»å¸ˆæŸ¥æˆ¿ | å‘¨æœŸå¾ªç¯ |
| 30 | é˜¶æ®µå°ç»“ | å¿…éœ€ |
| 60 | é˜¶æ®µå°ç»“ | å¿…éœ€ |
| 90 | é˜¶æ®µå°ç»“ | å¿…éœ€ï¼ˆæˆ–å‡ºé™¢ï¼‰ |

### C. APIå¯†é’¥è·å–

**ModelScopeï¼ˆé­”æ­ï¼‰**
- è®¿é—®ï¼šhttps://modelscope.cn/
- æ³¨å†Œè´¦å· â†’ ä¸ªäººä¸­å¿ƒ â†’ APIå¯†é’¥

**DeepSeek**
- è®¿é—®ï¼šhttps://platform.deepseek.com/
- æ³¨å†Œè´¦å· â†’ API Keys

**Kimi**
- è®¿é—®ï¼šhttps://platform.moonshot.cn/
- æ³¨å†Œè´¦å· â†’ APIå¯†é’¥ç®¡ç†

**ç¡…åŸºæµåŠ¨**
- è®¿é—®ï¼šhttps://siliconflow.cn/
- æ³¨å†Œè´¦å· â†’ APIå¯†é’¥
- Embedding APIå®Œå…¨å…è´¹

---

## ç‰ˆæœ¬å†å²

**v1.0 (2025-01-23)**
- âœ… å®Œæˆç³»ç»Ÿæ¶æ„è®¾è®¡
- âœ… å®šä¹‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—
- âœ… è®¾è®¡æ•°æ®åº“ç»“æ„
- âœ… è§„åˆ’ç”¨æˆ·ç•Œé¢
- âœ… é›†æˆAIæœåŠ¡æ–¹æ¡ˆ
- âœ… çŸ¥è¯†åº“å‘é‡åŒ–è®¾è®¡

---

## è”ç³»ä¸æ”¯æŒ

å¦‚éœ€æŠ€æœ¯æ”¯æŒæˆ–åŠŸèƒ½å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚

**é¡¹ç›®çŠ¶æ€**ï¼šè®¾è®¡å®Œæˆï¼Œå¾…å¼€å‘å®æ–½
**é¢„è®¡å¼€å‘å‘¨æœŸ**ï¼š4-6å‘¨
**ä¼˜å…ˆçº§**ï¼šé«˜

---

*æœ¬æ–‡æ¡£ç”±AIè¾…åŠ©è®¾è®¡ï¼Œç»ç”¨æˆ·ç¡®è®¤åå®šç¨¿ã€‚*
